!function(t){function o(o){t("#pop_"+o).css({"pointer-events":"none"}).animate({top:"0",opacity:"0"},300,function(){t(this).remove()})}var n=function(){var t=0;return function(){return t++}}(),e=function(t){this.duration=1e3*t.duration,this.timer=null,this.pop=t,this._init(t.duration)};e.prototype._init=function(t){this.appendTo(),this.removePop(t),this.closePop()},e.prototype._popHtml=function(t){var o="";return o+='<div id="pop_'+t.name+'" class="pop-tips pop-'+t.type+'">',""!==t.userAvatar&&(o+='<img class="pop-avatar" src="'+t.userAvatar+'" alt="" width="20" height="20">'),o+='<span class="pop-content">'+t.content+"</span>",t.closeIcon||(o+='<i class="fa fa-times pop-close" aria-hidden="true"></i>'),o+="</div>"},e.prototype.closePop=function(){var n=this.pop.name,e=this;t("#pop_"+n+" .pop-close").click(function(){e.timer=null,o(n)})},e.prototype.appendTo=function(){var o=this.pop,n=this._popHtml(o);t("body").append(n),t("#pop_"+o.name).css({"pointer-events":"auto"}).animate({top:"28px",opacity:"1"},300)},e.prototype.removePop=function(t){var n=this.pop.name;console.log(t),setTimeout(function(){o(n)},1e3*t),this.timer="timer_"+n};var p=function(o){var p=typeof o,i={type:"info",duration:4,closeIcon:!0,style:{},userAvatar:"",content:"",audio:!1,name:n()};"string"===p&&(i.content=o),t.isPlainObject(o)&&(i=t.extend({},i,o)),new e(i)};t.extend({popOut:function(t){p(t)}})}(jQuery);
